<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Dado Promocional</title>

<style>
  body {
    font-family: Arial, sans-serif;
    text-align: center;
    margin-top: 80px;
  }

  #dado {
    font-size: 120px;
    margin: 40px 0;
  }

  button {
    font-size: 20px;
    padding: 12px 30px;
    cursor: pointer;
  }

  .bloqueado {
    opacity: 0.5;
    cursor: not-allowed;
  }
</style>
</head>

<body>

<h1>Role o dado da BARUC  </h1>
<h2>VocÃª tem uma chance. Boa sorte!</h2>
<div id="dado">ðŸŽ²</div>
<button id="botao" onclick="rolarDado()">Rolar</button>

<script>
  const botao = document.getElementById("botao");
  const dado = document.getElementById("dado");
  const CHAVE = "dado_rolado";
  const SETE_DIAS = 7 * 24 * 60 * 60 * 1000;

  // Se jÃ¡ rolou antes e ainda estÃ¡ dentro dos 7 dias, bloqueia
  if (localStorage.getItem(CHAVE) && Date.now() < parseInt(localStorage.getItem(CHAVE))) {
    botao.disabled = true;
    botao.classList.add("bloqueado");
    dado.textContent = "â›”";
  }

  function rolarDado() {
    if (localStorage.getItem(CHAVE) && Date.now() < parseInt(localStorage.getItem(CHAVE))) return;

    let contador = 0;
    const animacao = setInterval(() => {
      const numeroFake = Math.floor(Math.random() * 6) + 1;
      dado.textContent = numeroFake;
      contador++;
    }, 100);

    setTimeout(() => {
      clearInterval(animacao);

      // Resultado FINAL (nunca 6)
      const faces = [1, 2, 3, 4, 5];
      const resultado = faces[Math.floor(Math.random() * faces.length)];

      dado.textContent = resultado;

      // Salva timestamp de expiraÃ§Ã£o (7 dias)
      localStorage.setItem(CHAVE, (Date.now() + SETE_DIAS).toString());

      botao.disabled = true;
      botao.classList.add("bloqueado");

    }, 2000);
  }
</script>

</body>
</html>
