<!DOCTYPE html>
<html lang="pt-BR">
<head>
<meta charset="UTF-8">
<title>Dado da sorte BARUC</title>

<style>
  body {
    font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    text-align: center;
    background-color: #f0f2f5;
    margin-top: 50px;
    overflow-x: hidden;
  }

  /* Container do Dado */
  .scene {
    width: 100px;
    height: 100px;
    margin: 60px auto;
    perspective: 600px;
  }

  .cube {
    width: 100%;
    height: 100%;
    position: relative;
    transform-style: preserve-3d;
    transform: translateZ(-50px);
    transition: transform 2s cubic-bezier(0.17, 0.67, 0.14, 0.93);
  }

  .cube__face {
    position: absolute;
    width: 100px;
    height: 100px;
    border: 2px solid #ccc;
    line-height: 100px;
    font-size: 40px;
    font-weight: bold;
    color: #333;
    background: white;
    display: flex;
    justify-content: center;
    align-items: center;
    border-radius: 10px;
    box-shadow: inset 0 0 15px rgba(0,0,0,0.1);
  }

  /* Posicionamento das faces */
  .cube__face--1 { transform: rotateY(  0deg) translateZ(50px); }
  .cube__face--2 { transform: rotateY(180deg) translateZ(50px); }
  .cube__face--3 { transform: rotateY( 90deg) translateZ(50px); }
  .cube__face--4 { transform: rotateY(-90deg) translateZ(50px); }
  .cube__face--5 { transform: rotateX( 90deg) translateZ(50px); }
  .cube__face--6 { transform: rotateX(-90deg) translateZ(50px); }

  /* Pontos do Dado (estilo visual) */
  .dot { width: 15px; height: 15px; background: #333; border-radius: 50%; }

  /* Rotações finais para cada número */
  .show-1 { transform: translateZ(-50px) rotateY(   0deg); }
  .show-2 { transform: translateZ(-50px) rotateY(-180deg); }
  .show-3 { transform: translateZ(-50px) rotateY( -90deg); }
  .show-4 { transform: translateZ(-50px) rotateY(  90deg); }
  .show-5 { transform: translateZ(-50px) rotateX( -90deg); }
  .show-6 { transform: translateZ(-50px) rotateX(  90deg); }

  /* Controles */
  input { padding: 10px; font-size: 16px; width: 180px; border-radius: 5px; border: 1px solid #ddd; }
  button { 
    padding: 12px 40px; font-size: 18px; cursor: pointer; 
    background: #007bff; color: white; border: none; border-radius: 5px; margin-top: 20px;
  }
  button:hover { background: #0056b3; }
  .bloqueado { opacity: 0.5; cursor: not-allowed; }
</style>
</head>
<body>

<h1>Dado da sorte BARUC</h1>
<p>Escolha um número e boa sorte:</p>
 <p>https://www.instagram.com/baruc.comunicacaovisual:</p>

<input type="number" id="numeroEscolhido" min="1" max="6" placeholder="Número de 1 a 6">

<div class="scene">
  <div class="cube" id="cube">
    <div class="cube__face cube__face--1">1</div>
    <div class="cube__face cube__face--2">2</div>
    <div class="cube__face cube__face--3">3</div>
    <div class="cube__face cube__face--4">4</div>
    <div class="cube__face cube__face--5">5</div>
    <div class="cube__face cube__face--6">6</div>
  </div>
</div>

<button id="botao" onclick="rolarDado()">Rolar Dado</button>

<script>
  const cube = document.getElementById('cube');
  const botao = document.getElementById('botao');
  const inputNum = document.getElementById('numeroEscolhido');
  const CHAVE = "dado_rolado_3d";
  const SETE_DIAS = 7 * 24 * 60 * 60 * 1000;

  if (localStorage.getItem(CHAVE) && Date.now() < parseInt(localStorage.getItem(CHAVE))) {
    desativar();
  }

  function desativar() {
    botao.disabled = true;
    botao.classList.add('bloqueado');
    botao.textContent = "Aguarde 7 dias";
    inputNum.disabled = true;
  }

  function rolarDado() {
    const escolha = parseInt(inputNum.value);

    if (isNaN(escolha) || escolha < 1 || escolha > 6) {
      alert("Escolha um número entre 1 e 6");
      return;
    }

    // Lógica para excluir o número escolhido
    const opcoes = [1, 2, 3, 4, 5, 6].filter(n => n !== escolha);
    const resultadoFinal = opcoes[Math.floor(Math.random() * opcoes.length)];

    // Efeito de girar muito antes de parar
    // Adicionamos rotações extras (ex: 720deg) para parecer que está girando rápido
    const randExtraX = Math.floor(Math.random() * 4) * 90;
    const randExtraY = Math.floor(Math.random() * 4) * 90;
    
    // Remove classes anteriores
    cube.className = 'cube';
    
    // Força um reflow para reiniciar a animação se necessário
    void cube.offsetWidth; 

    // Aplica a classe do resultado final
    cube.classList.add('show-' + resultadoFinal);

    // Salva o bloqueio
    localStorage.setItem(CHAVE, (Date.now() + SETE_DIAS).toString());
    
    // Bloqueia após a animação terminar
    setTimeout(() => {
      desativar();
      alert("O resultado foi " + resultadoFinal + "! Você escolheu " + escolha + ", então você ganhou!");
    }, 2100);
  }
</script>

</body>
</html>
